<!DOCTYPE html>
<meta charset="utf-8">
<script src="https://d3js.org/d3.v6.js"></script>
<div id="my_dataviz"></div>

<header>

</header>


<script>
    //margins
    const margin = {
        top: 20,
        right: 30,
        bottom: 30,
        left: 55
    },
        width = 460 - margin.left - margin.right,
        height = 400 - margin.top - margin.bottom;

    //append svg and body
    const svg = d3.select("#my_dataviz")
        .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform",
            `translate(${margin.left}, ${margin.top})`);

    let dataArray = []

    //parse
    // d3.csv("RickAndMortyScripts.csv", function (data) {
    //     dataArray.push(data);

    //     document.getElementById("my_dataviz").innerHTML = data.name;

    // });

    let hashmap = new Map();

    d3.csv("RickAndMortyScripts.csv").then(function (data) {
        data.forEach((element) => {
            if (!hashmap.has(element.name)) {
                hashmap.set(element.name, 1);
            } else {
                var temp = hashmap.get(element.name);
                hashmap.set(element.name, temp + 1);
            }
        });

        // work with data here!!!!!!!!!!!!!!!!
        // plot everything here!

        // to access the data, use the hashmap
        // console.log(hashmap("Rick")) // returns the number of times Rick appeared in the data;


    });

    //document.getElementById("my_dataviz").innerHTML = dataArray[0];

    //console.log(dataArray);
</script>

<body>
    <h1 id="my_dataviz"></h1>
</body>